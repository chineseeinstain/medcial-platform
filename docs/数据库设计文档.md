# æ•°æ®åº“è®¾è®¡æ–‡æ¡£ - 12å¼ ä¸»é¢˜æ•°æ®è¡¨

## ğŸ“Š æ•°æ®åº“æ¦‚è¿°

**æ•°æ®åº“å**ï¼š`medical_platform`

**å­—ç¬¦é›†**ï¼š`utf8mb4`

**æ’åºè§„åˆ™**ï¼š`utf8mb4_unicode_ci`

---

## ğŸ“‹ æ•°æ®è¡¨æ¸…å•ï¼ˆ12å¼ ï¼‰

### æ ¸å¿ƒä¸šåŠ¡è¡¨ï¼ˆ6å¼ ï¼‰
1. æ‚£è€…è¯Šç–—è¡¨ï¼ˆpatient_visitï¼‰
2. ç§‘å®¤è¿è¥è¡¨ï¼ˆdepartment_operationï¼‰
3. åŒ»ä¿ç»“ç®—è¡¨ï¼ˆinsurance_settlementï¼‰
4. è®¾å¤‡ä½¿ç”¨è¡¨ï¼ˆequipment_usageï¼‰
5. è¯å“åº“å­˜è¡¨ï¼ˆdrug_inventoryï¼‰
6. äººå‘˜ä¿¡æ¯è¡¨ï¼ˆstaff_infoï¼‰

### è¾…åŠ©ç®¡ç†è¡¨ï¼ˆ6å¼ ï¼‰
7. è´¢åŠ¡æ•°æ®è¡¨ï¼ˆfinancial_dataï¼‰
8. è´¨é‡æŒ‡æ ‡è¡¨ï¼ˆquality_indicatorï¼‰
9. æ‚£è€…æ»¡æ„åº¦è¡¨ï¼ˆpatient_satisfactionï¼‰
10. èµ„æºåˆ†é…è¡¨ï¼ˆresource_allocationï¼‰
11. ç»©æ•ˆè¯„ä¼°è¡¨ï¼ˆperformance_evaluationï¼‰
12. ç³»ç»Ÿæ—¥å¿—è¡¨ï¼ˆsystem_logï¼‰

---

## ğŸ—„ï¸ è¯¦ç»†è¡¨ç»“æ„è®¾è®¡

### 1. æ‚£è€…è¯Šç–—è¡¨ï¼ˆpatient_visitï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨æ‚£è€…å°±è¯Šè®°å½•

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE patient_visit (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    patient_id VARCHAR(50) NOT NULL COMMENT 'æ‚£è€…IDï¼ˆè„±æ•åï¼‰',
    visit_date DATE NOT NULL COMMENT 'å°±è¯Šæ—¥æœŸ',
    visit_time TIME COMMENT 'å°±è¯Šæ—¶é—´',
    department VARCHAR(50) NOT NULL COMMENT 'ç§‘å®¤',
    doctor_id VARCHAR(50) COMMENT 'åŒ»ç”ŸID',
    diagnosis VARCHAR(200) COMMENT 'è¯Šæ–­',
    disease_code VARCHAR(50) COMMENT 'ç–¾ç—…ç¼–ç ï¼ˆICD-10ï¼‰',
    cost DECIMAL(10,2) DEFAULT 0.00 COMMENT 'è´¹ç”¨',
    payment_method VARCHAR(20) COMMENT 'æ”¯ä»˜æ–¹å¼ï¼ˆç°é‡‘/åŒ»ä¿/è‡ªè´¹ï¼‰',
    visit_type VARCHAR(20) COMMENT 'å°±è¯Šç±»å‹ï¼ˆé—¨è¯Š/æ€¥è¯Š/ä½é™¢ï¼‰',
    status VARCHAR(20) DEFAULT 'æ­£å¸¸' COMMENT 'çŠ¶æ€',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    INDEX idx_patient_id (patient_id),
    INDEX idx_visit_date (visit_date),
    INDEX idx_department (department),
    INDEX idx_visit_type (visit_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æ‚£è€…è¯Šç–—è¡¨';
```

**æ•°æ®è„±æ•è§„åˆ™**ï¼š
- `patient_id`ï¼šä½¿ç”¨è„±æ•åçš„æ‚£è€…IDï¼ˆå¦‚ï¼šP001ã€P002ï¼‰
- ä¸å­˜å‚¨çœŸå®å§“åå’Œèº«ä»½è¯å·

---

### 2. ç§‘å®¤è¿è¥è¡¨ï¼ˆdepartment_operationï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨ç§‘å®¤è¿è¥ç»Ÿè®¡æ•°æ®

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE department_operation (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    department VARCHAR(50) NOT NULL COMMENT 'ç§‘å®¤åç§°',
    stat_date DATE NOT NULL COMMENT 'ç»Ÿè®¡æ—¥æœŸ',
    outpatient_count INT DEFAULT 0 COMMENT 'é—¨è¯Šé‡',
    inpatient_count INT DEFAULT 0 COMMENT 'ä½é™¢é‡',
    total_revenue DECIMAL(12,2) DEFAULT 0.00 COMMENT 'æ€»æ”¶å…¥',
    total_cost DECIMAL(12,2) DEFAULT 0.00 COMMENT 'æ€»æˆæœ¬',
    profit DECIMAL(12,2) DEFAULT 0.00 COMMENT 'åˆ©æ¶¦',
    avg_visit_time DECIMAL(5,2) COMMENT 'å¹³å‡å°±è¯Šæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰',
    bed_utilization_rate DECIMAL(5,2) COMMENT 'åºŠä½ä½¿ç”¨ç‡ï¼ˆ%ï¼‰',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    UNIQUE KEY uk_dept_date (department, stat_date),
    INDEX idx_stat_date (stat_date),
    INDEX idx_department (department)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç§‘å®¤è¿è¥è¡¨';
```

---

### 3. åŒ»ä¿ç»“ç®—è¡¨ï¼ˆinsurance_settlementï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨åŒ»ä¿ç»“ç®—æ•°æ®

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE insurance_settlement (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    settlement_no VARCHAR(50) NOT NULL COMMENT 'ç»“ç®—å•å·',
    patient_id VARCHAR(50) NOT NULL COMMENT 'æ‚£è€…IDï¼ˆè„±æ•åï¼‰',
    visit_id BIGINT COMMENT 'å°±è¯Šè®°å½•ID',
    settlement_date DATE NOT NULL COMMENT 'ç»“ç®—æ—¥æœŸ',
    total_cost DECIMAL(10,2) NOT NULL COMMENT 'æ€»è´¹ç”¨',
    insurance_pay DECIMAL(10,2) DEFAULT 0.00 COMMENT 'åŒ»ä¿æ”¯ä»˜',
    personal_pay DECIMAL(10,2) DEFAULT 0.00 COMMENT 'ä¸ªäººæ”¯ä»˜',
    insurance_type VARCHAR(20) COMMENT 'åŒ»ä¿ç±»å‹ï¼ˆåŸé•‡èŒå·¥/åŸä¹¡å±…æ°‘ï¼‰',
    drg_group VARCHAR(50) COMMENT 'DRGç—…ç»„',
    status VARCHAR(20) DEFAULT 'å·²ç»“ç®—' COMMENT 'çŠ¶æ€',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    UNIQUE KEY uk_settlement_no (settlement_no),
    INDEX idx_patient_id (patient_id),
    INDEX idx_settlement_date (settlement_date),
    INDEX idx_drg_group (drg_group)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='åŒ»ä¿ç»“ç®—è¡¨';
```

---

### 4. è®¾å¤‡ä½¿ç”¨è¡¨ï¼ˆequipment_usageï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨åŒ»ç–—è®¾å¤‡ä½¿ç”¨æƒ…å†µ

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE equipment_usage (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    equipment_id VARCHAR(50) NOT NULL COMMENT 'è®¾å¤‡ID',
    equipment_name VARCHAR(100) NOT NULL COMMENT 'è®¾å¤‡åç§°',
    department VARCHAR(50) COMMENT 'æ‰€å±ç§‘å®¤',
    usage_date DATE NOT NULL COMMENT 'ä½¿ç”¨æ—¥æœŸ',
    usage_hours DECIMAL(5,2) DEFAULT 0.00 COMMENT 'ä½¿ç”¨æ—¶é•¿ï¼ˆå°æ—¶ï¼‰',
    usage_count INT DEFAULT 0 COMMENT 'ä½¿ç”¨æ¬¡æ•°',
    maintenance_date DATE COMMENT 'ç»´æŠ¤æ—¥æœŸ',
    status VARCHAR(20) DEFAULT 'æ­£å¸¸' COMMENT 'è®¾å¤‡çŠ¶æ€',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_equipment_id (equipment_id),
    INDEX idx_usage_date (usage_date),
    INDEX idx_department (department)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è®¾å¤‡ä½¿ç”¨è¡¨';
```

---

### 5. è¯å“åº“å­˜è¡¨ï¼ˆdrug_inventoryï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨è¯å“åº“å­˜ä¿¡æ¯

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE drug_inventory (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    drug_id VARCHAR(50) NOT NULL COMMENT 'è¯å“ID',
    drug_name VARCHAR(100) NOT NULL COMMENT 'è¯å“åç§°',
    drug_type VARCHAR(50) COMMENT 'è¯å“ç±»å‹',
    specification VARCHAR(50) COMMENT 'è§„æ ¼',
    unit VARCHAR(20) COMMENT 'å•ä½',
    current_stock INT DEFAULT 0 COMMENT 'å½“å‰åº“å­˜',
    min_stock INT DEFAULT 0 COMMENT 'æœ€ä½åº“å­˜',
    purchase_price DECIMAL(10,2) COMMENT 'è¿›ä»·',
    sale_price DECIMAL(10,2) COMMENT 'å”®ä»·',
    supplier VARCHAR(100) COMMENT 'ä¾›åº”å•†',
    expiry_date DATE COMMENT 'æœ‰æ•ˆæœŸ',
    status VARCHAR(20) DEFAULT 'æ­£å¸¸' COMMENT 'çŠ¶æ€',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    UNIQUE KEY uk_drug_id (drug_id),
    INDEX idx_drug_name (drug_name),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è¯å“åº“å­˜è¡¨';
```

---

### 6. äººå‘˜ä¿¡æ¯è¡¨ï¼ˆstaff_infoï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨åŒ»æŠ¤äººå‘˜ä¿¡æ¯

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE staff_info (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    staff_id VARCHAR(50) NOT NULL COMMENT 'å‘˜å·¥ID',
    name VARCHAR(50) NOT NULL COMMENT 'å§“å',
    gender VARCHAR(10) COMMENT 'æ€§åˆ«',
    department VARCHAR(50) COMMENT 'ç§‘å®¤',
    position VARCHAR(50) COMMENT 'èŒä½',
    title VARCHAR(50) COMMENT 'èŒç§°',
    phone VARCHAR(20) COMMENT 'ç”µè¯',
    email VARCHAR(100) COMMENT 'é‚®ç®±',
    hire_date DATE COMMENT 'å…¥èŒæ—¥æœŸ',
    status VARCHAR(20) DEFAULT 'åœ¨èŒ' COMMENT 'çŠ¶æ€',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    
    UNIQUE KEY uk_staff_id (staff_id),
    INDEX idx_department (department),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='äººå‘˜ä¿¡æ¯è¡¨';
```

---

### 7. è´¢åŠ¡æ•°æ®è¡¨ï¼ˆfinancial_dataï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨è´¢åŠ¡ç»Ÿè®¡æ•°æ®

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE financial_data (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    stat_date DATE NOT NULL COMMENT 'ç»Ÿè®¡æ—¥æœŸ',
    total_revenue DECIMAL(12,2) DEFAULT 0.00 COMMENT 'æ€»æ”¶å…¥',
    total_cost DECIMAL(12,2) DEFAULT 0.00 COMMENT 'æ€»æˆæœ¬',
    profit DECIMAL(12,2) DEFAULT 0.00 COMMENT 'åˆ©æ¶¦',
    revenue_type VARCHAR(50) COMMENT 'æ”¶å…¥ç±»å‹',
    cost_type VARCHAR(50) COMMENT 'æˆæœ¬ç±»å‹',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_stat_date (stat_date),
    INDEX idx_revenue_type (revenue_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è´¢åŠ¡æ•°æ®è¡¨';
```

---

### 8. è´¨é‡æŒ‡æ ‡è¡¨ï¼ˆquality_indicatorï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨åŒ»ç–—è´¨é‡æŒ‡æ ‡

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE quality_indicator (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    indicator_name VARCHAR(100) NOT NULL COMMENT 'æŒ‡æ ‡åç§°',
    indicator_value DECIMAL(10,2) COMMENT 'æŒ‡æ ‡å€¼',
    target_value DECIMAL(10,2) COMMENT 'ç›®æ ‡å€¼',
    unit VARCHAR(20) COMMENT 'å•ä½',
    stat_date DATE COMMENT 'ç»Ÿè®¡æ—¥æœŸ',
    department VARCHAR(50) COMMENT 'ç§‘å®¤',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_indicator_name (indicator_name),
    INDEX idx_stat_date (stat_date)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è´¨é‡æŒ‡æ ‡è¡¨';
```

---

### 9. æ‚£è€…æ»¡æ„åº¦è¡¨ï¼ˆpatient_satisfactionï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨æ‚£è€…æ»¡æ„åº¦è°ƒæŸ¥æ•°æ®

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE patient_satisfaction (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    patient_id VARCHAR(50) COMMENT 'æ‚£è€…IDï¼ˆè„±æ•åï¼‰',
    visit_id BIGINT COMMENT 'å°±è¯Šè®°å½•ID',
    satisfaction_score INT COMMENT 'æ»¡æ„åº¦è¯„åˆ†ï¼ˆ1-5åˆ†ï¼‰',
    service_quality INT COMMENT 'æœåŠ¡è´¨é‡è¯„åˆ†',
    environment_score INT COMMENT 'ç¯å¢ƒè¯„åˆ†',
    comment_text TEXT COMMENT 'è¯„ä»·å†…å®¹',
    survey_date DATE COMMENT 'è°ƒæŸ¥æ—¥æœŸ',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_patient_id (patient_id),
    INDEX idx_survey_date (survey_date)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æ‚£è€…æ»¡æ„åº¦è¡¨';
```

---

### 10. èµ„æºåˆ†é…è¡¨ï¼ˆresource_allocationï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨èµ„æºåˆ†é…æƒ…å†µ

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE resource_allocation (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    resource_type VARCHAR(50) NOT NULL COMMENT 'èµ„æºç±»å‹ï¼ˆåºŠä½/è®¾å¤‡/äººå‘˜ï¼‰',
    resource_id VARCHAR(50) COMMENT 'èµ„æºID',
    department VARCHAR(50) COMMENT 'åˆ†é…ç§‘å®¤',
    allocation_date DATE COMMENT 'åˆ†é…æ—¥æœŸ',
    quantity INT DEFAULT 1 COMMENT 'æ•°é‡',
    status VARCHAR(20) DEFAULT 'ä½¿ç”¨ä¸­' COMMENT 'çŠ¶æ€',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_resource_type (resource_type),
    INDEX idx_department (department)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='èµ„æºåˆ†é…è¡¨';
```

---

### 11. ç»©æ•ˆè¯„ä¼°è¡¨ï¼ˆperformance_evaluationï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨ç»©æ•ˆè¯„ä¼°æ•°æ®

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE performance_evaluation (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    staff_id VARCHAR(50) COMMENT 'å‘˜å·¥ID',
    department VARCHAR(50) COMMENT 'ç§‘å®¤',
    evaluation_date DATE COMMENT 'è¯„ä¼°æ—¥æœŸ',
    performance_score DECIMAL(5,2) COMMENT 'ç»©æ•ˆå¾—åˆ†',
    workload_score DECIMAL(5,2) COMMENT 'å·¥ä½œé‡å¾—åˆ†',
    quality_score DECIMAL(5,2) COMMENT 'è´¨é‡å¾—åˆ†',
    total_score DECIMAL(5,2) COMMENT 'æ€»åˆ†',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_staff_id (staff_id),
    INDEX idx_evaluation_date (evaluation_date)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç»©æ•ˆè¯„ä¼°è¡¨';
```

---

### 12. ç³»ç»Ÿæ—¥å¿—è¡¨ï¼ˆsystem_logï¼‰

**ä½œç”¨**ï¼šå­˜å‚¨ç³»ç»Ÿæ“ä½œæ—¥å¿—

**å­—æ®µè®¾è®¡**ï¼š
```sql
CREATE TABLE system_log (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    user_id VARCHAR(50) COMMENT 'ç”¨æˆ·ID',
    username VARCHAR(50) COMMENT 'ç”¨æˆ·å',
    operation VARCHAR(100) COMMENT 'æ“ä½œç±»å‹',
    method VARCHAR(200) COMMENT 'è¯·æ±‚æ–¹æ³•',
    request_url VARCHAR(500) COMMENT 'è¯·æ±‚URL',
    request_params TEXT COMMENT 'è¯·æ±‚å‚æ•°',
    response_time INT COMMENT 'å“åº”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰',
    ip_address VARCHAR(50) COMMENT 'IPåœ°å€',
    status VARCHAR(20) COMMENT 'çŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰',
    error_message TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    
    INDEX idx_user_id (user_id),
    INDEX idx_create_time (create_time),
    INDEX idx_operation (operation)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç³»ç»Ÿæ—¥å¿—è¡¨';
```

---

## ğŸ” æ•°æ®è„±æ•è§„åˆ™

### æ‚£è€…ä¿¡æ¯è„±æ•

**èº«ä»½è¯å·è„±æ•**ï¼š
```sql
-- åŸå§‹ï¼š320123199001011234
-- è„±æ•åï¼š320123********1234
-- è§„åˆ™ï¼šä¿ç•™å‰6ä½å’Œå4ä½ï¼Œä¸­é—´ç”¨*æ›¿ä»£
```

**å§“åè„±æ•**ï¼š
```sql
-- åŸå§‹ï¼šå¼ ä¸‰
-- è„±æ•åï¼šå¼ *
-- è§„åˆ™ï¼šä¿ç•™å§“æ°ï¼Œåå­—ç”¨*æ›¿ä»£
```

**æ‰‹æœºå·è„±æ•**ï¼š
```sql
-- åŸå§‹ï¼š13812345678
-- è„±æ•åï¼š138****5678
-- è§„åˆ™ï¼šä¿ç•™å‰3ä½å’Œå4ä½ï¼Œä¸­é—´ç”¨*æ›¿ä»£
```

### Javaå®ç°è„±æ•å·¥å…·ç±»

```java
// backend/src/main/java/com/medical/utils/DataMaskingUtil.java
public class DataMaskingUtil {
    
    /**
     * èº«ä»½è¯å·è„±æ•
     */
    public static String maskIdCard(String idCard) {
        if (idCard == null || idCard.length() < 10) {
            return idCard;
        }
        return idCard.substring(0, 6) + "********" + idCard.substring(idCard.length() - 4);
    }
    
    /**
     * å§“åè„±æ•
     */
    public static String maskName(String name) {
        if (name == null || name.length() <= 1) {
            return name;
        }
        return name.substring(0, 1) + "*";
    }
    
    /**
     * æ‰‹æœºå·è„±æ•
     */
    public static String maskPhone(String phone) {
        if (phone == null || phone.length() < 7) {
            return phone;
        }
        return phone.substring(0, 3) + "****" + phone.substring(phone.length() - 4);
    }
}
```

---

## ğŸ“Š æ•°æ®è¡¨å…³ç³»å›¾

```
patient_visit (æ‚£è€…è¯Šç–—è¡¨)
    â”œâ”€â”€ patient_id â†’ patient_info (æ‚£è€…ä¿¡æ¯è¡¨ï¼Œè„±æ•)
    â”œâ”€â”€ department â†’ department_info (ç§‘å®¤ä¿¡æ¯)
    â””â”€â”€ visit_id â†’ insurance_settlement.visit_id (åŒ»ä¿ç»“ç®—)

insurance_settlement (åŒ»ä¿ç»“ç®—è¡¨)
    â”œâ”€â”€ patient_id â†’ patient_visit.patient_id
    â””â”€â”€ drg_group â†’ drg_analysis (DRGåˆ†æ)

department_operation (ç§‘å®¤è¿è¥è¡¨)
    â”œâ”€â”€ department â†’ department_info
    â””â”€â”€ stat_date (ç»Ÿè®¡æ—¥æœŸ)

equipment_usage (è®¾å¤‡ä½¿ç”¨è¡¨)
    â””â”€â”€ department â†’ department_info

staff_info (äººå‘˜ä¿¡æ¯è¡¨)
    â””â”€â”€ department â†’ department_info
```

---

## ğŸ” ç´¢å¼•ä¼˜åŒ–å»ºè®®

### å¸¸ç”¨æŸ¥è¯¢å­—æ®µç´¢å¼•

1. **æ—¶é—´å­—æ®µ**ï¼šæ‰€æœ‰è¡¨çš„æ—¥æœŸå­—æ®µéƒ½åº”å»ºç«‹ç´¢å¼•
2. **å¤–é”®å­—æ®µ**ï¼šå…³è”æŸ¥è¯¢çš„å­—æ®µå»ºç«‹ç´¢å¼•
3. **çŠ¶æ€å­—æ®µ**ï¼šç»å¸¸ç”¨äºç­›é€‰çš„å­—æ®µå»ºç«‹ç´¢å¼•

### ç´¢å¼•åˆ›å»ºç¤ºä¾‹

```sql
-- ä¸ºpatient_visitè¡¨åˆ›å»ºå¤åˆç´¢å¼•
CREATE INDEX idx_visit_date_dept ON patient_visit(visit_date, department);

-- ä¸ºinsurance_settlementè¡¨åˆ›å»ºå¤åˆç´¢å¼•
CREATE INDEX idx_settlement_date_type ON insurance_settlement(settlement_date, insurance_type);
```

---

## ğŸ“ åˆå§‹åŒ–æ•°æ®è„šæœ¬

### åˆ›å»ºæ•°æ®åº“

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS medical_platform 
DEFAULT CHARACTER SET utf8mb4 
DEFAULT COLLATE utf8mb4_unicode_ci;

USE medical_platform;
```

### æ‰§è¡Œå»ºè¡¨è„šæœ¬

å°†æ‰€æœ‰è¡¨çš„CREATE TABLEè¯­å¥ä¿å­˜åˆ° `database/init.sql` æ–‡ä»¶ä¸­ï¼Œç„¶åæ‰§è¡Œï¼š

```bash
mysql -u root -p medical_platform < database/init.sql
```

---

## âœ… æ•°æ®åº“è®¾è®¡æ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰è¡¨éƒ½æœ‰ä¸»é”®
- [ ] æ‰€æœ‰è¡¨éƒ½æœ‰åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´å­—æ®µ
- [ ] æ•æ„Ÿå­—æ®µå·²è„±æ•å¤„ç†
- [ ] å¸¸ç”¨æŸ¥è¯¢å­—æ®µå·²å»ºç«‹ç´¢å¼•
- [ ] å­—æ®µç±»å‹é€‰æ‹©åˆç†ï¼ˆé¿å…è¿‡å¤§æˆ–è¿‡å°ï¼‰
- [ ] å­—ç¬¦é›†ç»Ÿä¸€ä¸ºutf8mb4
- [ ] è¡¨æ³¨é‡Šå’Œå­—æ®µæ³¨é‡Šå®Œæ•´
- [ ] å¤–é”®å…³ç³»æ¸…æ™°ï¼ˆå¦‚éœ€è¦ï¼‰

---

**æ•°æ®åº“è®¾è®¡å®Œæˆï¼** æ¥ä¸‹æ¥å¯ä»¥å¼€å§‹åç«¯å¼€å‘äº†ã€‚

